<html>
<head>
<title>Springlab - YTv App</title>
{% load staticfiles %}
<link rel="stylesheet" type="text/css" href="{% static 'ytv/style.css' %}" />
<script type="text/javascript" language="javascript" src="{% static 'ytv/javascript/jquery.js' %}"></script>
<script type="text/javascript" language="javascript" src="{% static 'ytv/javascript/custom.js' %}"></script>
</head>
<body>

<h1>Springlab - YTv</h1>

<ul id="messages">
    {% if messages %}
    {% for message in messages %}
        <li>{{ message }}</li>
    {% endfor %}
    {% endif %}
</ul>

<form id="post_form" action="{% url 'ytv:index' %}" method="post">
    {% csrf_token %}
    <label for="yturl">YouTube url:</label>
    <input type="text" name="yturl" id="yturl" value="" />
    <input type="submit" value="Post" />
</form>

{% if video_list %}
<ul id="video_list">
{% for video in video_list %}
    <li>{{ video.title }}
    <span>
    <form action="{% url 'ytv:destroy' video.id %}" method="POST">
        {% csrf_token %}
        <input type="hidden" name="_method" value="DELETE" />
        <input type="submit" value="delete" />
    </form>
    </span>
    </li>
{% endfor %}
</ul>
{% else %}
<p>No videos, yet. Start posting!</p>
{% endif %}

<div class="pagination">
    <span id="step-links">
        {% if video_list.has_previous %}
            <a href="?page={{ video_list.previous_page_number }}">previous</a>
        {% endif %}
        
        {% if video_list %}
        <span class="current">
            Page {{ video_list.number }} of {{ video_list.paginator.num_pages }}
        </span>
        {% endif %}

        {% if video_list.has_next %}
            <a href="?page={{ video_list.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>

</body>
</html>
